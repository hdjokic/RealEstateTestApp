{"version":3,"sources":["server.js"],"names":["process","env","NODE_ENV","require","config","express","app","expressLayouts","indexRouter","set","get","req","res","sendFile","__dirname","post","console","log","body","use","mongoose","connect","DATABASE_URL","useNewUrlParser","db","connection","on","error","once","myobj","name","address","collection","insertOne","err","close","engine","json","urlencoded","extended","path","join","listen","PORT"],"mappings":"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","sourcesContent":["if(process.env.NODE_ENV !== 'production'){\r\n    require('dotenv').config();\r\n}\r\nconst express = require('express');\r\nconst app = express();\r\nconst expressLayouts = require('express-ejs-layouts');\r\n\r\nconst indexRouter = require('./routes/index');\r\n\r\napp.set('view engine', 'html');\r\n// app.get('/', (req, res) => {\r\n//     res.sendFile(__dirname + '/views/login.html')\r\n// })\r\napp.get('/', (req, res) => {\r\n    res.sendFile(__dirname + '/views/index.html')\r\n})\r\napp.post('/index', (req, res) => {\r\n    console.log('helooooooooo');\r\n    console.log(req.body);\r\n})\r\n//app.set('views', __dirname + '/views');\r\n//app.set('layout','layouts/layout');\r\napp.use(expressLayouts);\r\napp.use(express.static('public'));\r\n\r\nconst mongoose = require('mongoose');\r\n//require('dotenv ').config();\r\nmongoose.connect(process.env.DATABASE_URL,{\r\n    useNewUrlParser: true\r\n})\r\nconst db = mongoose.connection;\r\ndb.on('error', error => console.error(error));\r\ndb.once('open', () => console.log('connected to mongoose'));\r\n\r\nvar myobj = { name: \"Company Inc\", address: \"Highway 37\" };\r\n  db.collection(\"real-estate-app\").insertOne(myobj, function(err, res) {\r\n    if (err) throw err;\r\n    console.log(\"1 document inserted\");\r\n    db.close();\r\n  });\r\n\r\napp.use('/', indexRouter);\r\n\r\napp.engine(\"html\", expressLayouts);\r\napp.set(\"views\",\"views\");\r\napp.set(\"view engine\", \"html\");\r\n\r\napp.use(express.json());\r\napp.use(express.urlencoded({extended: false}));\r\n\r\napp.get(\"/*\", (req,res) => {\r\n  res.sendFile(path.join(__dirname, \"views\",\"index.html\"))\r\n})\r\n\r\n// indexRouter.post('/views/add', (req, res) => {   \r\n// \tmongoose.query(`INSERT INTO property (House_Address, Sqft, Num_of_Bedrooms, Num_of_Bathroom, price) VALUES ('${req.body.house_address}', '${req.body.Sqft}','${req.body.Num_of_Bedrooms}','${req.body.Num_of_Bathroom}','${req.body.price}')` , (err, result) => {\r\n// \tconsole.log(err, result)\r\n\r\n// \tres.redirect('/views/add')\r\n\t\r\n// \t\t})\r\n// \t})\r\n\r\n//     indexRouter.post('/views/delete', (req,res) => {\r\n//         mongoose.query(`DELETE FROM property WHERE addressID = '${req.body.addressID}'`, (err,result) => { \r\n//             console.log(err, result) \r\n//             res.redirect('views/delete')\r\n            \r\n//             })\r\n        \r\n//     })\r\n    \r\n//     indexRouter.post('views/update', (req,res) => {\r\n//             mongoose.query(`UPDATE property SET propertyType = '${req.body.propertytype}', price = '${req.body.price}', size='${req.body.size}', num_bedroom = '${req.body.num_bedroom}', num_bathroom = '${req.body.num_bathroom}' WHERE address = '${req.body.address}'`, (err,result) => {\r\n//                 console.log(err, result) \r\n//                 res.redirect('/views/update')\r\n//             })\r\n//         })\r\n    \r\n\r\napp.listen(process.env.PORT || 3000);\r\n\r\n"],"file":"server.dev.js"}