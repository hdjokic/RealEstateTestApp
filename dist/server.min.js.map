{"version":3,"sources":["server.js"],"names":["process","env","NODE_ENV","require","config","app","express","expressLayouts","indexRouter","set","get","req","res","sendFile","__dirname","post","console","log","body","mongoose","DATABASE_URL","use","db","on","error","once","useNewUrlParser","address","collection","insertOne","myobj","err","connection","close","name","json","urlencoded","extended","path","join","listen","PORT"],"mappings":"aAA4B,eAAzBA,QAAQC,IAAIC,UACXC,QAAQ,UAAUC,SAAlBD,IAAAA,QAAQA,QAAUC,WACrBC,IAAAC,UAGKC,eAAiBJ,QAAQ,uBAEzBK,YAAcL,QAAQ,kBAE5BE,IAAII,IAAI,cAAe,QAIvBJ,IAAIK,IAAI,IAAK,SAACC,EAAKC,GAJfH,EAAII,SAAAC,UAAR,uBAGAT,IAAAU,KAAA,SAAA,SAAAJ,EAAAC,GAKII,QAAQC,IAAI,gBAJZP,QAAJO,IAAaN,EAAAO,QAITF,IAAAA,IAAAA,gBACAA,IAAAA,IAAAA,QAAYL,OAAZ,WAGJ,IAAAQ,SAAAhB,QAAA,YACAE,SAAQE,QAAAA,QAARN,IAAAmB,aAAA,CACIC,iBAAW,IAEf,IAAMF,GAAAA,SAAWhB,WAMjBmB,GAAGC,GAAG,QAAS,SAAAC,GAAK,OAAIR,QAAQQ,MAAMA,KACtCF,GAAGG,KAAK,OAAQ,WAAA,OAAMT,QAAQC,IAAI,2BAJ9BS,IAAAA,MAAAA,CAAAA,KAAiB,cAAAC,QAAA,cADrBL,GAAAM,WAAA,mBAAAC,UAAAC,MAAA,SAAAC,EAAAnB,GAGMU,GAAES,EAAGZ,MAASa,EACjBT,QAAGN,IAAS,uBAAKK,GAAAW,UACJ5B,IAAAgB,IAAA,IAAML,aAEtBX,IAAIyB,OAAK,OAAGvB,gBAAE2B,IAAAA,IAAM,QAAA,SAAeP,IAAAA,IAAAA,cAAS,QAC1CL,IAAGM,IAAAA,QAAWO,QACZ9B,IAAAgB,IAAIU,QAAKK,WAAA,CAAAC,UAAA,KAETf,IAAEZ,IAACuB,KAAH,SAAAtB,EAAAC,GAHFA,EAAAC,SAAAyB,KAAAC,KAAAzB,UAAA,QAAA,iBA6CFT,IAAImC,OAAOxC,QAAQC,IAAIwC,MAAQ","file":"server.min.js","sourcesContent":["if(process.env.NODE_ENV !== 'production'){\r\n    require('dotenv').config();\r\n}\r\nconst express = require('express');\r\nconst app = express();\r\nconst expressLayouts = require('express-ejs-layouts');\r\n\r\nconst indexRouter = require('./routes/index');\r\n\r\napp.set('view engine', 'html');\r\n// app.get('/', (req, res) => {\r\n//     res.sendFile(__dirname + '/views/login.html')\r\n// })\r\napp.get('/', (req, res) => {\r\n    res.sendFile(__dirname + '/views/index.html')\r\n})\r\napp.post('/index', (req, res) => {\r\n    console.log('helooooooooo');\r\n    console.log(req.body);\r\n})\r\n//app.set('views', __dirname + '/views');\r\n//app.set('layout','layouts/layout');\r\napp.use(expressLayouts);\r\napp.use(express.static('public'));\r\n\r\nconst mongoose = require('mongoose');\r\n//require('dotenv ').config();\r\nmongoose.connect(process.env.DATABASE_URL,{\r\n    useNewUrlParser: true\r\n})\r\nconst db = mongoose.connection;\r\ndb.on('error', error => console.error(error));\r\ndb.once('open', () => console.log('connected to mongoose'));\r\n\r\nvar myobj = { name: \"Company Inc\", address: \"Highway 37\" };\r\n  db.collection(\"real-estate-app\").insertOne(myobj, function(err, res) {\r\n    if (err) throw err;\r\n    console.log(\"1 document inserted\");\r\n    db.close();\r\n  });\r\n\r\napp.use('/', indexRouter);\r\n\r\napp.engine(\"html\", expressLayouts);\r\napp.set(\"views\",\"views\");\r\napp.set(\"view engine\", \"html\");\r\n\r\napp.use(express.json());\r\napp.use(express.urlencoded({extended: false}));\r\n\r\napp.get(\"/*\", (req,res) => {\r\n  res.sendFile(path.join(__dirname, \"views\",\"index.html\"))\r\n})\r\n\r\n// indexRouter.post('/views/add', (req, res) => {   \r\n// \tmongoose.query(`INSERT INTO property (House_Address, Sqft, Num_of_Bedrooms, Num_of_Bathroom, price) VALUES ('${req.body.house_address}', '${req.body.Sqft}','${req.body.Num_of_Bedrooms}','${req.body.Num_of_Bathroom}','${req.body.price}')` , (err, result) => {\r\n// \tconsole.log(err, result)\r\n\r\n// \tres.redirect('/views/add')\r\n\t\r\n// \t\t})\r\n// \t})\r\n\r\n//     indexRouter.post('/views/delete', (req,res) => {\r\n//         mongoose.query(`DELETE FROM property WHERE addressID = '${req.body.addressID}'`, (err,result) => { \r\n//             console.log(err, result) \r\n//             res.redirect('views/delete')\r\n            \r\n//             })\r\n        \r\n//     })\r\n    \r\n//     indexRouter.post('views/update', (req,res) => {\r\n//             mongoose.query(`UPDATE property SET propertyType = '${req.body.propertytype}', price = '${req.body.price}', size='${req.body.size}', num_bedroom = '${req.body.num_bedroom}', num_bathroom = '${req.body.num_bathroom}' WHERE address = '${req.body.address}'`, (err,result) => {\r\n//                 console.log(err, result) \r\n//                 res.redirect('/views/update')\r\n//             })\r\n//         })\r\n    \r\n\r\napp.listen(process.env.PORT || 3000);\r\n\r\n"]}